{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue?7aa6","webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?a676","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["id","user","name","favorites","length","favorite","key","logout","type","data","email","password","login","errors","error","index","class","computed","this","$store","state","products","methods","loadFavorites","get","then","response","map","getters","getProductById","product_id","post","authenticated","commit","success","watch","mounted","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-15ce5c6a.17dc007b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AccountPage.vue?vue&type=style&index=0&id=189f0e71&scoped=true&lang=css\"","<template>\n    <div id=\"account-page\">\n        <div v-if=\"user\">\n            <h2>Hi, {{ user.name }}!</h2>\n\n            <div id=\"favorites\">\n                <strong>Your Favorites</strong>\n                <p v-if=\"favorites && favorites.length == 0\">\n                    No favorites yet.\n                </p>\n                <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\n                    {{ favorite.name }}\n                </li>\n            </div>\n\n            <button v-on:click=\"logout\">Logout</button>\n        </div>\n\n        <div v-else id=\"loginForm\">\n            <h2>Login</h2>\n            \n            <div>\n                <label>\n                    Email:\n                    <input type=\"text\" v-model=\"data.email\" />\n                </label>\n            </div>\n            <div>\n                <label>\n                    Password:\n                    <input type=\"password\" v-model=\"data.password\" />\n                </label>\n            </div>\n\n            <button v-on:click=\"login\">Login</button>\n\n            <ul v-if=\"errors\">\n                <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n                    {{ error }}\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\n\nexport default {\n    data() {\n        return {\n            // Form is prefilled for demonstration purposes; remove in final application\n            // jill@harvard.edu/asdfasdf is one of our seed users from e28api/seeds/user.json\n            data: {\n                email: \"jill@harvard.edu\",\n                password: \"asdfasdf\",\n            },\n            errors: null,\n            favorites: [],\n        };\n    },\n    computed: {\n        user() {\n            return this.$store.state.user;\n        },\n        products() {\n            return this.$store.state.products;\n        },\n    },\n    methods: {\n        loadFavorites() {\n            if (this.user) {\n                axios\n                    .get(\"favorite/query?user_id=\" + this.user.id)\n                    .then((response) => {\n                        this.favorites = response.data.favorite.map(\n                            (favorite) => {\n                                return this.$store.getters.getProductById(\n                                    favorite.product_id\n                                );\n                            }\n                        );\n                    });\n            }\n        },\n        login() {\n            axios.post(\"login\", this.data).then((response) => {\n                if (response.data.authenticated) {\n                    this.$store.commit(\"setUser\", response.data.user);\n                } else {\n                    this.errors = response.data.errors;\n                }\n            });\n        },\n        logout() {\n            axios.post(\"logout\").then((response) => {\n                if (response.data.success) {\n                    this.$store.commit(\"setUser\", null);\n                }\n            });\n        },\n    },\n    watch: {\n        user() {\n            this.loadFavorites();\n        },\n    },\n    mounted() {\n        this.loadFavorites();\n    },\n};\n</script>\n<style scoped>\n#account-page {\n    padding-top: 200px;\n    width: 90%;\n    text-align: center;\n}\n\n#loginForm {\n    width: 50%;\n    margin: auto;\n}\n\n#inputs {\n    text-align: left;\n}\n\nul {\n    list-style-type: none;\n}\n\n#confirm {\n    color: white;\n    background-color: teal;\n    font-size: 13pt;\n    font-weight: 100;\n    text-transform: uppercase;\n    padding: 10px;\n}\n\n.error {\n    color: white;\n    background-color: #CC9817;\n    font-size: 13pt;\n    font-weight: 100;\n    text-transform: uppercase;\n    text-align: center;\n    padding: 10px;\n    width: 90%;\n}\n\n@media only screen and (max-width: 600px) {\n    #account-page {\n        padding-top: 0;\n    }\n\n    #loginForm {\n    width: 90%;\n    margin: auto;\n}\n}\n\n</style>","import { render } from \"./AccountPage.vue?vue&type=template&id=189f0e71&scoped=true\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\n\nimport \"./AccountPage.vue?vue&type=style&index=0&id=189f0e71&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-189f0e71\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}